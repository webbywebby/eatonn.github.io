(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[9690],{"RUW/":(e,t,n)=>{"use strict";n.d(t,{I:()=>Y,Z:()=>ce});var r,l=n("h4VS"),i=n("q1tI"),o=n("vOnD"),a=n("17x9"),s=n.n(a),u=n("ifKl"),d=n("7EGn"),c=n("fujP"),f=n("HMsx"),m=n("lFeK"),g=n("wcxm"),p=n("q5yu"),E=n("5An4"),w=n("BfBW"),v=n("OJgl"),h=n("pU3V"),b=n("SNoJ"),I=n("EV5s"),R=n("9Vqx"),T=n("kdDk"),x=n("PQmA"),y=n("8qZF"),q=n("7Vmh"),C=n("qVAO"),_=n("Ujvf"),L=n("ScDn"),P=n("qVg0"),Z=n("en2A"),V=n("P62M"),F=n("s2Gh"),O=function(e){var t=e.postId,n=e.isFollowed,r=e.isEditable,l=e.reviewUserId,o=e.reviewId,a=e.showErrorToast,s=e.followReviewerContainer,u=e.locale,c=e.isLoggedIn,f=e.openLoginForm,m=e.showFollowButton,g=e.isMobile,p=e.resId,E=e.userId,w=e.deleteReviewContainer,v=e.showSuccessToast,b=e.deleteReviewConfirmText,T=e.localisedStrings,_=e.reviewOptions,L=(0,i.useState)(!1),P=(0,h.Z)(L,2),V=P[0],O=P[1],z=(0,i.useState)(!1),j=(0,h.Z)(z,2),U=j[0],A=j[1],D=function(){O(!0)};return i.createElement(i.Fragment,null,(!!r||!!t)&&i.createElement(I.default,{value:"",width:g?"16rem":"19rem",onSelect:function(e){e===Z.gU||e===Z.iK?D():e===Z.X&&A(!0)},staticHeader:i.createElement(x.default,{size:24}),rightIcon:null,isNaked:!0},t?i.createElement(R.default,{fontSize:g?"1.4rem":"1.8rem",value:Z.iK,label:"Rate and Publish"}):[i.createElement(R.default,{fontSize:g?"1.4rem":"1.8rem",value:Z.gU,label:"Edit"}),i.createElement(R.default,{fontSize:g?"1.4rem":"1.8rem",value:Z.X,label:"Delete"})]),!r&&m&&i.createElement(S,{size:"compressed",appearance:n?"":"outline",onClick:function(){var e;c?((0,F.$0)("logged-in"),e=l,(0,C.w1)({data:{reviewer_user_id:e,type:n?Z.xR:Z.OU},followReviewerContainer:s,showErrorToast:a,reviewId:o})):((0,F.$0)("logged-out"),f())}},n?(0,d.default)(T,"following"):(0,d.default)(T,"follow")),i.createElement(y.Z,{visible:U,acceptLabel:"Yes",rejectLabel:"No",onAccept:function(){(0,C.i0)({reviewId:o,resId:p,showErrorToast:a}).then((function(e){A(!1),"success"===(0,d.default)(e,"page_data.status","")?(w(o,p,E),v((0,d.default)(e,"message","Review deleted successfully."))):a((0,d.default)(e,"message"))}))},onReject:function(){return A(!1)}},i.createElement("p",null,b)),i.createElement(q.Z,{modalLocale:{modalTitle:u.WRITE_REVIEW_TITLE,rateTitle:u.RATE_EXPERIENCE_TITLE,addReviewTitle:u.ADD_REVIEW_TITLE},closeModal:function(){return O(!1)},isLoggedIn:c,openLoginForm:f,visible:V,reviewOptions:_,isMobile:g,resId:p,reviewId:o,postId:t}))},S=(0,o.default)(T.default)(r||(r=(0,l.Z)(["\n  flex-shrink: 0;\n  margin-left: 1rem;\n  @media (max-width: 480px) {\n    min-height: 3.2rem;\n    span {\n      font-size: 1.2rem;\n      font-weight: 400;\n      min-height: 3.2rem;\n      height: 3.2rem;\n      display: flex;\n      align-items: center;\n    }\n  }\n"])));O.propTypes={postId:s().number,resId:s().number,userId:s().number,isFollowed:s().bool.isRequired,isEditable:s().bool.isRequired,reviewUserId:s().number.isRequired,reviewId:s().number.isRequired,showSuccessToast:s().func.isRequired,showErrorToast:s().func.isRequired,followReviewerContainer:s().func.isRequired,deleteReviewContainer:s().func,isLoggedIn:s().bool,locale:s().objectOf(s().object).isRequired,openLoginForm:s().func,isMobile:s().bool,showFollowButton:s().bool,deleteReviewConfirmText:s().string.isRequired,localisedStrings:s().objectOf(s().object).isRequired,reviewOptions:s().shape({header:s().string,options:s().arrayOf(s().shape({label:s().string,value:s().string})),selected:s().string})},O.defaultProps={resId:0,postId:0,userId:0,isLoggedIn:!1,openLoginForm:u.default,isMobile:!1,showFollowButton:!1,deleteReviewContainer:u.default,reviewOptions:{header:"",options:[{label:"",value:""}],selected:""}};const z=(0,b.$j)((function(e,t){return{resId:(0,P.Eg)(e,t),userId:(0,d.default)(e,"pages.current.userId",0),isMobile:Boolean((0,d.default)(e,"pages.current",0)),deleteReviewConfirmText:(0,d.default)(e,"langKeys.DELETE_REVIEW_TEXT",""),locale:{WRITE_REVIEW_TITLE:(0,d.default)(e,"langKeys.WRITE_REVIEW_TITLE"),RATE_EXPERIENCE_TITLE:(0,d.default)(e,"langKeys.RATE_EXPERIENCE_TITLE"),ADD_REVIEW_TITLE:(0,d.default)(e,"langKeys.ADD_REVIEW_TITLE")}}}),(function(e){return{showErrorToast:function(t){return e((0,_.u1)(t))},showSuccessToast:function(t){return e((0,_.SC)(t))},deleteReviewContainer:function(t,n,r){return e((0,L.m)(t,n,r))}}}))((0,i.memo)(O,V.Uh));var j,U,A,D,k,N,K,M,W,B,G,X=n("AdJq"),$=n("VAjR"),H=n("GBU/"),J=[$.xR],Y=function(e){var t=e.rating,n=e.newRatingColor;return i.createElement(p.default,{value:t,ratingColor:n,align:"right"})};Y.propTypes={rating:s().number.isRequired,newRatingColor:s().string},Y.defaultProps={newRatingColor:E.default};var Q=function(e){var t=e.pageName,n=e.userProfileUrl,r=e.userProfilePic,l=e.userName,o=e.userFollowersCount,a=e.userReviewsCount,s=e.rating,u=e.urbanspoonStatus,m=e.isFollowed,p=e.isEditable,E=e.reviewId,h=e.reviewUserId,b=e.followReviewer,I=e.timestamp,R=e.isLoggedIn,T=e.openLoginForm,x=e.isMobile,y=e.resInfo,q=e.postId,C=e.localisedStrings,_=e.newRatingColor,L=e.ratingV2,P=e.bgColorV2,Z=e.showRatingV2,V=e.ratingV2Text;return i.createElement(i.Fragment,null,i.createElement(te,null,i.createElement(ne,null,function(e){return J.includes(e)}(t)?i.createElement(i.Fragment,null,i.createElement(re,{href:(0,d.default)(y,"resUrl","")},i.createElement(se,{width:"4.4rem",height:"4.4rem",src:(0,d.default)(y,"thumb","")})),i.createElement(ie,null,i.createElement(re,{href:(0,d.default)(y,"resUrl","")},i.createElement(ee,null,(0,d.default)(y,"name",""))),i.createElement(re,{href:"".concat(X.xG,"/").concat((0,d.default)(y,"locality.localityUrl",""))},i.createElement(ue,null,(0,d.default)(y,"locality.localityName",""))))):i.createElement(i.Fragment,null,i.createElement(re,{href:n,rel:"nofollow noreferrer noopener",onClick:function(){(0,F.Ke)(t)}},i.createElement(ae,{width:"4.4rem",height:"4.4rem",src:r})),i.createElement(ie,null,i.createElement(re,{href:n,rel:"nofollow noreferrer noopener",onClick:function(){(0,F.pv)(t)}},i.createElement(ee,{isMobile:x},l)),i.createElement(oe,null,i.createElement(ue,null,a," ",(0,d.default)(C,"reviews","")),i.createElement(de,null,o," ",(0,d.default)(C,"followers","")))))),i.createElement(z,{isFollowed:m,isEditable:p,reviewUserId:h,reviewId:E,followReviewerContainer:b,isLoggedIn:R,openLoginForm:T,showFollowButton:(0,c.default)(y),resId:(0,d.default)(y,"id",0),reviewOptions:(0,d.default)(y,"ratingData",{}),postId:q,localisedStrings:C})),i.createElement(le,null,!!s&&!Z&&i.createElement(Y,{rating:s,newRatingColor:_}),!!L&&Z&&i.createElement(w.default,{value:L,color:(0,H.Z)(P),size:x?200:300,sideSubTitle:V}),!s&&!!u&&null!==u&&function(e){return i.createElement(i.Fragment,null,1===e&&i.createElement(v.KY,null,"POSITIVE"),2===e&&i.createElement(v.o$,null,"NEGATIVE"))}(u),i.createElement(g.P,{className:"time-stamp",color:f.default.z500,size:x?"1.2rem":"1.4rem"},I)))},ee=(0,o.default)(g.P)(j||(j=(0,l.Z)(["\n  color: ",";\n  size: 1.6rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  flex-grow: 1;\n  line-height: regular;\n  margin: 0 0 0.2rem;\n  font-weight: 500;\n"])),f.default.z900),te=o.default.section(U||(U=(0,l.Z)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 2rem;\n  max-width: inherit;\n"]))),ne=o.default.div(A||(A=(0,l.Z)(["\n  display: flex;\n  flex-grow: 1;\n  overflow: hidden;\n  justify-content: center;\n  align-items: center;\n"]))),re=o.default.a(D||(D=(0,l.Z)(["\n  text-decoration: none;\n"]))),le=o.default.div(k||(k=(0,l.Z)(["\n  display: flex;\n  margin: 1.8rem 0 1rem;\n  align-items: center;\n  flex-grow: 0;\n  flex-shrink: 0;\n  .time-stamp {\n    margin-left: 1rem;\n  }\n"]))),ie=o.default.div(N||(N=(0,l.Z)(["\n  margin-left: 1.2rem;\n  flex-grow: 1;\n  overflow: hidden;\n"]))),oe=o.default.section(K||(K=(0,l.Z)(["\n  display: flex;\n"]))),ae=(0,o.default)(m.default)(M||(M=(0,l.Z)(["\n  border-radius: 50%;\n"]))),se=(0,o.default)(m.default)(W||(W=(0,l.Z)(["\n  border-radius: 0.8rem;\n"]))),ue=o.default.span(B||(B=(0,l.Z)(["\n  font-size: 1.4rem;\n  line-height: 1.5;\n  color: ",";\n"])),f.default.z500),de=(0,o.default)(ue)(G||(G=(0,l.Z)(["\n  display: flex;\n  align-items: center;\n  &:before {\n    content: '';\n    width: 0.4rem;\n    height: 0.4rem;\n    border-radius: 50%;\n    background: ",";\n    display: inline-block;\n    margin: 0 0.5rem;\n  }\n"])),f.default.z500);Q.propTypes={postId:s().number,pageName:s().string.isRequired,userProfileUrl:s().string,userProfilePic:s().string,userName:s().string,userFollowersCount:s().number.isRequired,userReviewsCount:s().number.isRequired,rating:s().number.isRequired,urbanspoonStatus:s().number.isRequired,isFollowed:s().bool.isRequired,isEditable:s().bool.isRequired,reviewId:s().number.isRequired,reviewUserId:s().number.isRequired,followReviewer:s().func.isRequired,timestamp:s().string.isRequired,isLoggedIn:s().bool,openLoginForm:s().func,isMobile:s().bool,resInfo:s().shape({name:s().string,thumb:s().string,resUrl:s().string,locality:s().object}),localisedStrings:s().objectOf(s().object).isRequired,newRatingColor:s().string,ratingV2:s().string,bgColorV2:s().shape({type:s().string,tint:s().string}),showRatingV2:s().bool,ratingV2Text:s().string},Q.defaultProps={postId:0,userProfileUrl:"",userName:"",userProfilePic:"",isLoggedIn:!1,openLoginForm:u.default,isMobile:!1,resInfo:{},newRatingColor:E.default,ratingV2:"",bgColorV2:{},showRatingV2:!1,ratingV2Text:""};const ce=Q},qVAO:(e,t,n)=>{"use strict";n.d(t,{mG:()=>g,w1:()=>p,i0:()=>E});var r=n("HaE+"),l=n("o0o1"),i=n.n(l),o=n("q1tI"),a=n("7EGn"),s=n("ifKl"),u=n("fujP"),d=n("eLLh"),c=n("G2Un"),f=n("AdJq"),m=n("p0ov"),g=function(e,t,n){return function(r,l){return o.createElement(d.default.Item,{colD:4,key:"photorenderer-photo-".concat((0,a.default)(r,"photoId",""))},o.createElement(m.YT,null,o.createElement(m.Yo,{src:(0,a.default)(r,"url",""),height:n?"10rem":"15rem",width:"100%",onClick:t(l),clickable:!0}),2===l&&e>0&&o.createElement(m.fD,null,"+",e," Photo(s)")))}},p=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,l,o,d,m,g,p,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,r=t.data,l=void 0===r?{}:r,o=t.followReviewerContainer,d=void 0===o?s.default:o,m=t.showErrorToast,g=void 0===m?s.default:m,e.next=4,(0,c.ZP)(f.qj,{body:JSON.stringify(l),method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(){n=!0}));case 4:if(p=e.sent,(0,u.default)(p)||n||"success"!==(0,a.default)(p,"page_data.status")){e.next=9;break}return E=t.reviewId,d(void 0===E?0:E),e.abrupt("return",p);case 9:return g((0,a.default)(p,"page_data.message","Oops! Some error occurred. Please contact support.")),e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,l,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.reviewId,r=void 0===n?0:n,l=t.showErrorToast,o=void 0===l?s.default:l,e.prev=1,e.next=4,(0,c.ZP)(f.y$,{body:(0,c.je)({review_id:r}),method:"POST"}).then((function(e){return e.json()}));case 4:a=e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),o();case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},OJgl:(e,t,n)=>{"use strict";n.d(t,{KY:()=>P,o$:()=>Z,$G:()=>q,Zh:()=>x});var r,l,i,o,a,s,u,d,c=n("h4VS"),f=n("q1tI"),m=n("vOnD"),g=n("17x9"),p=n.n(g),E=n("fujP"),w=n("N6Fs"),v=n("czsM"),h=n("HMsx"),b=n("wRyO"),I=n("wcxm"),R=n("gqXX"),T=function(e){var t=e.text;return f.createElement(C,null,f.createElement(I.P,{color:h.default.z600,margin:"0",size:"1.2rem"},t.length>24?"".concat(t.slice(0,24),"..."):t))};T.propTypes={text:p().string.isRequired};var x=function(e){var t=e.positiveTags;return t.length>2?f.createElement(y,null,f.createElement(T,{text:t[0].text}),f.createElement(T,{text:t[1].text}),f.createElement(T,{text:"+".concat(t.length-2)})):f.createElement(y,null,t.map((function(e){return f.createElement(T,{key:e.id,text:e.text})})))};x.propTypes={positiveTags:p().arrayOf(p().object)},x.defaultProps={positiveTags:[]};var y=m.default.div(r||(r=(0,c.Z)(["\n  margin-top: 1rem;\n"]))),q=function e(t){var n=t.positiveTags,r=t.negativeTags,l=t.positiveTagTitle,i=t.negativeTagTitle;return(!(0,E.default)(n)||!(0,E.default)(r))&&f.createElement(e.Wrapper,null,!!n.length&&f.createElement(f.Fragment,null,f.createElement(_,null,f.createElement(w.default,{size:12,color:v.default.z500}),f.createElement(P,null,l)),n.map((function(e){return f.createElement(T,{key:e.id,text:e.text})}))),!!r.length&&f.createElement(f.Fragment,null,f.createElement(L,null,f.createElement(V,{size:12,color:b.default.z700}),f.createElement(Z,null,i)),r.map((function(e){return f.createElement(T,{key:e.id,text:e.text})}))))};q.propTypes={positiveTags:p().arrayOf(p().object),negativeTags:p().arrayOf(p().object),negativeTagTitle:p().string.isRequired,positiveTagTitle:p().string.isRequired},q.defaultProps={positiveTags:[],negativeTags:[]},q.Wrapper=m.default.section(l||(l=(0,c.Z)(["\n  margin-top: 1.6rem;\n"])));var C=(0,m.default)(R.DR)(i||(i=(0,c.Z)(["\n  border-radius: 20px;\n  padding: 0.6rem 1rem;\n  border: none;\n  background: ",";\n  box-shadow: none;\n  @media (max-width: 480px) {\n    margin: 0 0.6rem 0.6rem 0;\n    padding: 0.3rem 0.8rem;\n  }\n"])),h.default.z200),_=m.default.div(o||(o=(0,c.Z)(["\n  display: flex;\n  margin-bottom: 1rem;\n  justify-content: baseline;\n"]))),L=m.default.div(a||(a=(0,c.Z)(["\n  display: flex;\n  margin-bottom: 1rem;\n  justify-content: baseline;\n"]))),P=m.default.div(s||(s=(0,c.Z)(["\n  color: ",";\n  font-size: 1.3rem;\n  font-weight: 500;\n  padding-left: 0.6rem;\n  @media (max-width: 480px) {\n    font-size: 1.2rem;\n  }\n"])),v.default.z500),Z=m.default.div(u||(u=(0,c.Z)(["\n  color: ",";\n  font-size: 1.3rem;\n  font-weight: 500;\n  padding-left: 0.6rem;\n  @media (max-width: 480px) {\n    font-size: 1.2rem;\n  }\n"])),b.default.z700),V=(0,m.default)(w.default)(d||(d=(0,c.Z)(["\n  transform: rotate(180deg);\n"])))}}]);